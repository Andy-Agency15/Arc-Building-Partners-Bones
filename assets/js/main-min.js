gsap.registerPlugin(ScrollTrigger),"undefined"!=typeof gsap?console.log("GSAP is loaded"):console.log("GSAP is not loaded"),document.getElementById("nav-toggle").addEventListener("click",(function(){const e=document.getElementById("nav-toggle"),t=document.getElementById("nav-menu"),i=document.querySelector(".nav-menu .inner"),s=e.getBoundingClientRect();t.classList.contains("nav-menu-active")?(gsap.to(i,{opacity:0,duration:.2,ease:"power2.in"}),gsap.to(t,{top:s.top,left:s.left,width:s.width,height:s.height,borderRadius:"100px",duration:.6,ease:"power2.in",onUpdate:function(){gsap.set(t,{borderTopRightRadius:Math.min(100,50*this.progress())+"px"})},onComplete:()=>{t.style.display="none",t.classList.remove("nav-menu-active")}})):(gsap.set(t,{top:s.top,left:s.left,width:s.width,height:s.height,borderRadius:"50%",opacity:1,display:"block"}),gsap.to(t,{top:0,left:0,width:"100%",height:"100vh",borderRadius:"0px",duration:.6,ease:"power2.out",onUpdate:function(){gsap.set(t,{borderTopRightRadius:Math.max(0,100-300*this.progress())+"px"})},onComplete:()=>{gsap.to(i,{opacity:1,duration:.3,ease:"power2.out"})}}),t.classList.add("nav-menu-active")),e.classList.toggle("nav-toggle-active")}));const Portfolio={init(){if(!document.querySelector(".portfolio-grid"))return;const e=[{id:1,title:"Modern Office Complex",service:"commercial",sector:"office",image:"https://images.unsplash.com/photo-1497366216548-37526070297c?w=1200&h=800&fit=crop"},{id:2,title:"Luxury Residential Tower",service:"residential",sector:"residential",image:"https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=1200&h=800&fit=crop"},{id:3,title:"Boutique Hotel Design",service:"interior",sector:"hospitality",image:"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=1200&h=800&fit=crop"},{id:4,title:"Retail Flagship Store",service:"commercial",sector:"retail",image:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=1200&h=800&fit=crop"},{id:5,title:"Historic Building Renovation",service:"renovation",sector:"office",image:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=1200&h=800&fit=crop"},{id:6,title:"Penthouse Interior",service:"interior",sector:"residential",image:"https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=1200&h=800&fit=crop"},{id:7,title:"Restaurant Design",service:"interior",sector:"hospitality",image:"https://images.unsplash.com/photo-1514933651103-005eec06c04b?w=1200&h=800&fit=crop"},{id:8,title:"Corporate Headquarters",service:"commercial",sector:"office",image:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=1200&h=800&fit=crop"}];class t{constructor(){this.currentView="a",this.currentSlide=0,this.filteredProjects=[...e],this.activeFilters={service:"all",sector:"all"},this.init()}init(){this.setupEventListeners(),this.generateContent(),this.updateActiveView()}setupEventListeners(){document.getElementById("view-a-btn").addEventListener("click",(()=>this.switchView("a"))),document.getElementById("view-b-btn").addEventListener("click",(()=>this.switchView("b"))),document.getElementById("service-dropdown-trigger").addEventListener("click",(e=>{e.stopPropagation(),this.toggleDropdown("service")})),document.getElementById("sector-dropdown-trigger").addEventListener("click",(e=>{e.stopPropagation(),this.toggleDropdown("sector")})),document.querySelectorAll(".dropdown-item").forEach((e=>{e.addEventListener("click",(e=>this.handleDropdownSelection(e)))})),document.getElementById("project-list-btn").addEventListener("click",(e=>{e.stopPropagation(),this.toggleProjectList()})),document.addEventListener("click",(()=>{this.closeAllDropdowns(),this.closeProjectList()})),document.getElementById("reset-filters-btn").addEventListener("click",(()=>this.resetFilters()))}switchView(e){this.currentView=e,this.updateActiveView(),this.updateViewToggle()}updateActiveView(){const e=document.getElementById("view-a"),t=document.getElementById("view-b");"a"===this.currentView?(e.style.display="block",t.style.display="none"):(e.style.display="none",t.style.display="block")}updateViewToggle(){document.querySelectorAll(".view-toggle button").forEach((e=>{e.classList.remove("active")})),document.getElementById(`view-${this.currentView}-btn`).classList.add("active")}toggleDropdown(e){const t=document.getElementById(`${e}-dropdown`),i=document.getElementById(`${e}-dropdown-trigger`),s=t.classList.contains("open");this.closeAllDropdowns(),s||(t.classList.add("open"),i.classList.add("open"))}closeAllDropdowns(){document.querySelectorAll(".dropdown-menu").forEach((e=>{e.classList.remove("open")})),document.querySelectorAll(".dropdown-trigger").forEach((e=>{e.classList.remove("open")}))}handleDropdownSelection(e){const t=e.target,i=t.dataset.type,s=t.dataset.filter;this.activeFilters[i]=s,document.querySelectorAll(`[data-type="${i}"]`).forEach((e=>{e.classList.remove("active")})),t.classList.add("active");document.getElementById(`${i}-dropdown-trigger`).querySelector(".selected-value").textContent=t.textContent,this.closeAllDropdowns(),this.applyFilters()}handleFilter(e){const t=e.target,i=t.dataset.type,s=t.dataset.filter;this.activeFilters[i]=s,document.querySelectorAll(`[data-type="${i}"]`).forEach((e=>{e.classList.remove("active")})),t.classList.add("active"),this.applyFilters()}resetFilters(){this.activeFilters={service:"all",sector:"all"},this.currentSlide=0,document.querySelectorAll(".dropdown-item").forEach((e=>{e.classList.remove("active"),"all"===e.dataset.filter&&e.classList.add("active")}));const e=document.getElementById("service-dropdown-trigger"),t=document.getElementById("sector-dropdown-trigger");e.querySelector(".selected-value").textContent="All",t.querySelector(".selected-value").textContent="All",this.closeAllDropdowns(),this.closeProjectList(),this.applyFilters()}toggleProjectList(){const e=document.getElementById("project-list-dropdown"),t=document.getElementById("project-list-btn");e.classList.contains("open")?this.closeProjectList():(this.closeAllDropdowns(),e.classList.add("open"),t.classList.add("active"),this.generateProjectList())}closeProjectList(){const e=document.getElementById("project-list-dropdown"),t=document.getElementById("project-list-btn");e.classList.remove("open"),t.classList.remove("active")}generateProjectList(){const e=document.getElementById("project-list-items");document.getElementById("project-count").textContent=`${this.filteredProjects.length} Project${1!==this.filteredProjects.length?"s":""}`,e.innerHTML="",0!==this.filteredProjects.length?this.filteredProjects.forEach(((t,i)=>{const s=document.createElement("div");s.className="project-list-item "+(i===this.currentSlide?"active":""),s.innerHTML=`<a href="#" class="project-link">${t.title}</a>`;s.querySelector(".project-link").addEventListener("click",(e=>{e.preventDefault(),this.goToSlide(i),this.closeProjectList(),"b"===this.currentView&&this.switchView("a")})),e.appendChild(s)})):e.innerHTML='<div class="project-list-empty">No projects match your filters</div>'}applyFilters(){this.filteredProjects=e.filter((e=>{const t="all"===this.activeFilters.service||e.service===this.activeFilters.service,i="all"===this.activeFilters.sector||e.sector===this.activeFilters.sector;return t&&i})),this.currentSlide>=this.filteredProjects.length&&(this.currentSlide=0),this.generateContent()}generateContent(){this.generateSlideshow(),this.generateGrid()}generateSlideshow(){const e=document.getElementById("slideshow-container"),t=document.getElementById("carousel-nav");e.innerHTML="",t.innerHTML="",0!==this.filteredProjects.length?(this.filteredProjects.forEach(((i,s)=>{const o=document.createElement("div");o.className="slide "+(s===this.currentSlide?"active":""),o.style.backgroundImage=`url(${i.image})`,o.innerHTML=`\n            <div class="slide-overlay">\n                <div class="slide-content">\n                    <h2>${i.title}</h2>\n                    <div class="meta">\n                        <span class="service">${i.service}</span>\n                        <span class="sector">${i.sector}</span>\n                    </div>\n                    <div class="project-controls">\n                        <a href="#" class="view-project-btn">View Project</a>\n                        <div class="slide-arrows">\n                            <div class="inline-arrow arrow-prev" data-action="prev">\n                                <svg width="24px" height="24px" viewBox="0 0 24 24">\n                                    <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>\n                                </svg>\n                            </div>\n                            <div class="inline-arrow arrow-next" data-action="next">\n                                <svg width="24px" height="24px" viewBox="0 0 24 24">\n                                    <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>\n                                </svg>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `,e.appendChild(o);const r=document.createElement("div");r.className="carousel-thumb "+(s===this.currentSlide?"active":""),r.style.backgroundImage=`url(${i.image})`,r.addEventListener("click",(()=>this.goToSlide(s))),t.appendChild(r)})),this.setupInlineArrows(),this.updateArrowStates()):e.innerHTML='<div class="slide active" style="display: flex; align-items: center; justify-content: center; font-size: 2rem; opacity: 0.5;">No projects match your filters</div>'}prevSlide(){this.filteredProjects.length<=1||(this.currentSlide=0===this.currentSlide?this.filteredProjects.length-1:this.currentSlide-1,this.updateSlideshow(),this.updateArrowStates())}nextSlide(){this.filteredProjects.length<=1||(this.currentSlide=(this.currentSlide+1)%this.filteredProjects.length,this.updateSlideshow(),this.updateArrowStates())}updateArrowStates(){const e=document.querySelectorAll(".arrow-prev"),t=document.querySelectorAll(".arrow-next");this.filteredProjects.length<=1?(e.forEach((e=>e.classList.add("disabled"))),t.forEach((e=>e.classList.add("disabled")))):(e.forEach((e=>e.classList.remove("disabled"))),t.forEach((e=>e.classList.remove("disabled"))))}setupInlineArrows(){document.querySelectorAll(".inline-arrow").forEach((e=>{e.replaceWith(e.cloneNode(!0))})),document.querySelectorAll(".inline-arrow").forEach((e=>{e.addEventListener("click",(t=>{t.stopPropagation();const i=e.dataset.action;"prev"===i?this.prevSlide():"next"===i&&this.nextSlide()}))}))}generateGrid(){const e=document.getElementById("projects-grid");e.innerHTML="",0!==this.filteredProjects.length?this.filteredProjects.forEach((t=>{const i=document.createElement("div");i.className="project-card",i.style.backgroundImage=`url(${t.image})`,i.innerHTML=`\n                        <div class="card-overlay">\n                            <div class="card-content">\n                                <h3>${t.title}</h3>\n                                <div class="meta">\n                                    <span class="service">${t.service}</span>\n                                    <span class="sector">${t.sector}</span>\n                                </div>\n\t\t\t\t\t\t\t\t<div class="project-links">\n\t\t\t\t\t\t\t\t\t<a href="#" class="view-project-btn">View Project</a>\n\t\t\t\t\t\t\t\t</div>\n                            </div>\n                        </div>\n                    `,e.appendChild(i)})):e.innerHTML='<div style="grid-column: 1 / -1; text-align: center; font-size: 2rem; opacity: 0.5; padding: 100px 0;">No projects match your filters</div>'}goToSlide(e){this.currentSlide=e,this.updateSlideshow()}updateSlideshow(){const e=document.querySelectorAll(".slide"),t=document.querySelectorAll(".carousel-thumb");e.forEach(((e,t)=>{e.classList.toggle("active",t===this.currentSlide)})),t.forEach(((e,t)=>{e.classList.toggle("active",t===this.currentSlide)}))}startAutoAdvance(){setInterval((()=>{"a"===this.currentView&&this.filteredProjects.length>1&&(this.currentSlide=(this.currentSlide+1)%this.filteredProjects.length,this.updateSlideshow())}),5e3)}}document.addEventListener("DOMContentLoaded",(()=>{new t}))}};